---
title: GitHub Actions の概要
category: Git
tags:
  - GitHub
  - CICD
---

`GitHub Actions`は`GitHub`が提供する汎用的なワークフローエンジン．`GitHub`の各機能とシームレスに連携する．例えば次のようなタスクを自動化できる．

<!-- more -->

- プルリクエストが作成されたら，ビルドとテストを実行する
- リリースタグが作成されたら，コンテナイメージをデプロイする
- Issue が作成されたら，ランダムにメンバーをアサインする

`GitHub Actions`は`ワークフロー(Workflow)`という単位でタスクを自動化する．`ワークフロー`は「いつ」「どこで」「どのような」処理を実行するかを定義する

## GitHub Actions をはじめる

`GitHub Actions`はリポジトリへ`ワークフローファイル(Workflow file)`と呼ばれる YAML ファイルを追加するだけで実行することができる．

```hello.yml
name: Hello                 # ワークフロー名
on: push                    # イベント（プッシュ時に起動）
jobs:                       # ジョブ定義
  hello:                            # ジョブID
    runs-on:  ubuntu-latest         # ランナー（Ubuntuで実行）
    steps:                          # ステップ定義
      - run: echo "Hello, world"    #
      - uses: actions/checkout@v4   #
```

## GitHub Actions の構成要素

#### ワークフロー

１つの YAML ファイルにつき，ワークフローは１つ定義される．`ワークフロー`は指定した`イベント`で起動し，`ジョブ`を実行する．

**ワークフロー名**
ワークフロー名は`nameキー`へ指定する．省略可能だがワークフローの実行ログが分かりづらくなるため，常に記述するべき．

```
name: Hello
```

#### イベント

ワークフロー実行の起点が`イベント`である．`onキー`へプッシュやプルリクエスト等を指定する．

```
on: push
```

複数イベントを指定する場合は，配列で記述する

```
on: [push, pull_request]
```

#### ジョブ

`ジョブ（Jobs）`はワークフローの実行単位．`jobsキー`配下へ記述する．ジョブは複数定義でき，各ジョブを区別できるようにジョブ ID を指定する．
ジョブ ID 単位でランナーを指定し，ステップに処理を記述する．ジョブ ID は自由に命名できる．

```
jobs:
  hello:    #ジョブID
```

#### ランナー

ジョブの実行環境が`ランナー（Runners）`．`runs-onキー`へ記述する．`GitHub Actions`はこの指定に基づいて，ジョブの実行環境をプロビジョニングする．

```
runs-on: ubuntu-latest  #実行環境
```

#### ステップ

`ステップ（Steps）`はワークフローにおける処理の最小単位である．`steps`キーへ以下のように記述する．ステップは複数定義でき，処理は上から記述順に逐次実行される．

```
steps:
  - run: echo "Hello, world"
  - uses: actions/checkout@v4
```

ステップの実行方法には「シェルコマンド」と「アクション」の２種類がある．

**シェルコマンドの実行**

**アクションの呼び出し**

## GitHub Actions のエラー

#### 構文エラー

#### 実行エラー

##

## 参考資料
