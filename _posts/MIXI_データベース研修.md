---
title: 研修「MIXI データベース研修 DB基礎」
categories: [ 学習記録, 講義 ]
tags:
  - DB
mermaid: true
---

[Youtube](https://www.youtube.com/watch?v=M99vZk8qIjo&t=262s)
[リポジトリ](https://github.com/mixigroup/2024BeginnerTrainingDataBaseBasic)

---
## 講義概要

- [x] 第1章: データベースの基本概念
- [x] 第2章: リレーショナルデータベースの深掘り
- [x] 第3章: SQL入門
- [x] 第4章: 非リレーショナルデータベースの概観
- [ ] 第5章: データウェアハウスとデータレイク
- [ ] 第6章: クラウド上のデータベースサービス
- [ ] 第7章: データベースの選定とアーキテクチャ
- [ ] 第8章: セキュリティとデータガバナンス

--- 
## 1. データベースの基本概念

- データベースの操作は，**データベース管理システム**（**DBMS**）で行う

#### DBMSの役割
- データの格納
- データの検索
- データの更新
- バックアップとリカバリ
- セキュリティ
- マルチユーザサポート 
- パフォーマンス監視
- データの整合性保持
- トランザクション管理
- データの抽象化

#### DBMS処理別の分類

- オンライントランザクション処理 (OLTP)
- オンライン分析処理 (OLAP)
- ハイブリットトランザクション/分析処理 (HTAP)

#### 行指向と列指向

| 商品ID | 商品名       | 価格 |
| ------ | ------------ | ---- |
| 1      | シャープペン | 200  |
| 2      | 消しゴム     | 130  |
| 3      | メモ帳       | 500  |

###### 行指向 
ブロックには行ごとのデータが格納されている
 
```mermaid
block-beta
  a ["1 シャープペン 200"] 
  b ["2 消しゴム 130"]
  c ["3 メモ帳 500"]
```

###### 列指向
ブロックには列ごとのデータが格納されている

```mermaid
block-beta
  a ["1 2 3"] 
  b ["シャープペン 消しゴム メモ帳"]
  c ["3 メモ帳 500"]
```

---
## 2. リレーショナルデータベースの深掘り

1980年代にリレーショナルデータベース (RDB) は普及した．

RDBの機能
- テーブルの正規化
- トランザクション
- ACID特性
- インデックス
- ビュー


テーブル制約
- Primary Key : 一意，かつNULLは許容しない
- Foreign Key : 参照先テーブルにないIDは登録できない 
- NOT NULL : NULLは許容しない
- CHECK : 任意の条件 
- UNIQUE : 重複は許容しない


#### 正規化

#### トランザクション


#### ACID特性

| 特性                          | 説明                                                                                                                             |
| ----------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| **Atomicity** <br> (原子性)   | トランザクションは「全部成功」か「全部失敗」のどちらかしかない。途中でエラーが起きても、実行前の状態へ確実にロールバックされる。 |
| **Consistency** <br> (一貫性) | トランザクション実行前後で整合性制約（外部キー制約、チェック制約など）が常に満たされる。違反する操作は失敗する。                 |
| **Isolation** <br> (独立性)   | 同時実行する複数トランザクションが互いに干渉しないように見える。途中経過はほかのトランザクションから見えない。                   |
| **Durability** <br> (耐久性)  | コミット済みのデータはシステム障害後も失われない。電源断・クラッシュ後でも再起動時に復旧できる。                                 |


#### インデックス


#### ビュー

ビューはそれ自身はデータを持たない仮想テーブル．




---
## 3. SQL入門

操作内容によって大きく３種別に分類される．
- データ定義言語 (**DDL**: Data Definition Launguage)
- データ操作言語 (**DML**: Data Manipulation Language)
- データ制御言語 (**DCL**: Data Control Language)



---
## 4. 非リレーショナルデータベースの概観

#### スケールアップとスケールアウト
- スケールアップ : インスタンススペックを増やす（大きくする）こと
- スケールアウト : インスタンス辞退を増やすこと


#### NoSQL

- **キーバリューストア**
- ドキュメント
- ワイドカラム
- インメモリ
- タイムシリーズ
- グラフ
- NewSQL


---
## 5. データウェアハウスとデータレイク

データをため込み，分析し，必要な情報を加工・表示する技術が求められる．その基本となるのが**データウェアハウス**と**データレイク**．


#### データレイク

- 収集された生データを大きなスケールで格納するデータストレージソリューション．
- 構造化 (DB)，判構造化 (CSV，JSON)，非構造化 (テキスト，画像)の多様なデータを格納できる
- 一般的に低コストのストレージソリューションを用いて構成される．

#### データウェアハウス

- サブジェクト指向
- 非揮発性
- 時系列性
- 統合性
- クエリの最適化


---
## 6. クラウド上のデータベースサービス


#### マネージドサービス


---
## 7. データベースの選定とアーキテクチャ




---
## 8. セキュリティとデータガバナンス
