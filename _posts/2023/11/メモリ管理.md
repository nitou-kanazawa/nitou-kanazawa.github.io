---
title: メモリ管理
categories: [情報工学]
tags:
  - GC
---

メモリ領域の管理手法には大きく分けて２種類のものがある．


## スタック

`Stack（スタック）`は


## ヒープ

`Heap（ヒープ）`は，任意サイズのデータ領域を，任意の順序で確保・解放する方式．スタックが順序立ててに積み上げていくのに対して，ヒープは乱雑に山積みされているイメージである．

  - データを必要とするスコープが明確でない場合
  - 実行時にしかサイズが確定しない場合
  - 必要サイズが大きい場合


ヒープは，スタックのような制限がない反面，メモリ上のどこからどこまで確保したかを全て管理する必要があり，新たにデータ領域を確保したい場合には空き領域を探す手間もかかる．
また，領域の確保と解放を繰り返すことで，使用中のヒープがメモリ上に散在する状態の`fragmentation（断片化）`が発生して，キャッシュのヒット率低下などから処理性能の悪化につながる．


## ガベージコレクション

`GC（ガベージコレクション）`は，


`GC`によって，以下のメモリ管理に関する問題を回避することができる

- メモリリークの回避
- オブジェクトの２重解放の回避
- 無効なポインタの回避

ただし，GCにおいても，もう使用しないオブジェクトへの参照をいつまでも保持するようなコードでは，オブジェクトが解放されず，メモリ不足を引き起こしうる．

#### 実装方式

- 参照カウント
- マーク・アンド・スイープ
- コピーGC



## 参考資料
- [wiki: ガベージコレクション](https://ja.wikipedia.org/wiki/%E3%82%AC%E3%83%99%E3%83%BC%E3%82%B8%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3)
- [未確認飛行C: メモリ管理](https://ufcpp.net/study/computer/MemoryManagement.html)


<!-- リンク -->